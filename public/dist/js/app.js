var E=Object.create;var h=Object.defineProperty;var j=Object.getOwnPropertyDescriptor;var L=Object.getOwnPropertyNames;var C=Object.getPrototypeOf,M=Object.prototype.hasOwnProperty;var a=(t,e)=>h(t,"name",{value:e,configurable:!0});var d=(t,e)=>()=>(e||t((e={exports:{}}).exports,e),e.exports);var I=(t,e,n,r)=>{if(e&&typeof e=="object"||typeof e=="function")for(let o of L(e))!M.call(t,o)&&o!==n&&h(t,o,{get:()=>e[o],enumerable:!(r=j(e,o))||r.enumerable});return t};var _=(t,e,n)=>(n=t!=null?E(C(t)):{},I(e||!t||!t.__esModule?h(n,"default",{value:t,enumerable:!0}):n,t));var m=d((x,f)=>{var g=a(function(){if(typeof self=="object"&&self)return self;if(typeof window=="object"&&window)return window;throw new Error("Unable to resolve global `this`")},"naiveFallback");f.exports=(function(){if(this)return this;if(typeof globalThis=="object"&&globalThis)return globalThis;try{Object.defineProperty(Object.prototype,"__global__",{get:a(function(){return this},"get"),configurable:!0})}catch{return g()}try{return __global__||g()}finally{delete Object.prototype.__global__}})()});var y=d((G,B)=>{B.exports={name:"websocket",description:"Websocket Client & Server Library implementing the WebSocket protocol as specified in RFC 6455.",keywords:["websocket","websockets","socket","networking","comet","push","RFC-6455","realtime","server","client"],author:"Brian McKelvey <theturtle32@gmail.com> (https://github.com/theturtle32)",contributors:["I\xF1aki Baz Castillo <ibc@aliax.net> (http://dev.sipdoc.net)"],version:"1.0.35",repository:{type:"git",url:"https://github.com/theturtle32/WebSocket-Node.git"},homepage:"https://github.com/theturtle32/WebSocket-Node",engines:{node:">=4.0.0"},dependencies:{bufferutil:"^4.0.1",debug:"^2.2.0","es5-ext":"^0.10.63","typedarray-to-buffer":"^3.1.5","utf-8-validate":"^5.0.2",yaeti:"^0.0.6"},devDependencies:{"buffer-equal":"^1.0.0",gulp:"^4.0.2","gulp-jshint":"^2.0.4","jshint-stylish":"^2.2.1",jshint:"^2.0.0",tape:"^4.9.1"},config:{verbose:!1},scripts:{test:"tape test/unit/*.js",gulp:"gulp"},main:"index",directories:{lib:"./lib"},browser:"lib/browser.js",license:"Apache-2.0"}});var v=d(($,b)=>{b.exports=y().version});var T=d((D,S)=>{var u;if(typeof globalThis=="object")u=globalThis;else try{u=m()}catch{}finally{if(!u&&typeof window<"u"&&(u=window),!u)throw new Error("Could not determine global this")}var p=u.WebSocket||u.MozWebSocket,O=v();function w(t,e){var n;return e?n=new p(t,e):n=new p(t),n}a(w,"W3CWebSocket");p&&["CONNECTING","OPEN","CLOSING","CLOSED"].forEach(function(t){Object.defineProperty(w,t,{get:a(function(){return p[t]},"get")})});S.exports={w3cwebsocket:p?w:null,version:O}});var F=_(T(),1);var z=document.querySelector("#inputID"),P=document.querySelector("#logId"),A=document.querySelector(".loginBtn"),R=document.querySelector(".subloginBtn"),K=document.querySelector(".subsignupBtn"),i=document.querySelector(".Home"),U=document.querySelector(".srchErmgs"),Q=document.querySelector(".srchpgBtn"),X=document.querySelector(".usrcl"),k=new WebSocket("ws://localhost:8000");k.addEventListener("open",()=>{console.log("we are connected")});k.addEventListener("message",t=>{console.log(t.data),P.textContent=t.data});i.addEventListener("click",function(t){t.target.matches(".loginBtn")&&fetch("/user/login",{method:"GET",headers:{"Content-Type":"application/json"}}).then(e=>e.text()).then(e=>{e&&(i.innerHTML=e)}).catch(e=>console.log(e))});i.addEventListener("click",function(t){if(t.target.matches(".subloginBtn")){let e=document.querySelector(".emailInput").value,n=document.querySelector(".passwordInput").value,r=document.querySelector(".erPlank"),o={email:e,password:n};console.log(o),fetch("/user/verificaftion",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify(o)}).then(s=>s.json()).then(s=>{s.erMgs?(r.innerHTML=s.erMgs,r.style.display="block",setTimeout(()=>{r.style.display="none"},3e3)):s.paswdMgs&&(r.innerHTML=s.paswdMgs,r.style.display="block",setTimeout(()=>{r.style.display="none"},6e3))}).catch(s=>console.log(s))}});i.addEventListener("click",t=>{t.target.matches(".siginingupBtn")&&fetch("/user/sgnpg",{method:"GET",headers:{"Content-Type":"application/json"}}).then(e=>e.text()).then(e=>{i.innerHTML=e}).catch(e=>console.log(e))});i.addEventListener("click",function(t){if(t.target.matches(".subsignupBtn")){let e=document.querySelector(".signupusernameInput").value,n=document.querySelector(".signupemailInput").value,r=document.querySelector(".signuppasswordInput").value,o=document.querySelector(".ersignupPlank"),s={username:e,email:n,password:r};console.log(s),fetch("/user/registration",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify(s)}).then(c=>c.json()).then(c=>{c.erMgs?(o.innerHTML=c.erMgs,o.style.display="block",setTimeout(()=>{o.style.display="none"},3e3)):c.paswdMgs?(o.innerHTML=c.paswdMgs,o.style.display="block",setTimeout(()=>{o.style.display="none"},6e3)):c.crtAccount===!0&&(console.log(c.usr,c.usrP+"herererer"),document.cookie=`usr=${c.usr};path=/`,document.cookie=`usrP=${c.usrP};path=/`)}).catch(c=>console.log(c))}});i.addEventListener("click",function(t){if(t.target.matches(".fndactBtn")){let e=document.querySelector(".fndactInput"),n=document.querySelector(".usrPnl"),o={srchVal:e.value};console.log("data"),fetch("/user/qryusr",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify(o)}).then(s=>s.json()).then(s=>{console.log(s),n.innerHTML="",s.forEach(c=>{let l=document.createElement("div");l.innerHTML=`
            <p class="usrcl"  data-prt="${c.userport}">${c.username}</p> 
            `;let q=l;n.appendChild(q)})}).catch(s=>console.log(s))}});i.addEventListener("click",function(t){if(t.target.matches(".usrcl")){let e=t.target;console.log("hello dataset:"+e.dataset.prt),fetch(`/user/qrysrchusr/${e.dataset.prt}`,{method:"GET",headers:{"Content-Type":"application/json"}}).then(n=>n.json()).then(n=>{if(n.acunt===!0){let r=n.nm;fetch("/user/srchusrcht",{method:"GET",headers:{"Content-Type":"application/json"}}).then(o=>o.text()).then(o=>{i.innerHTML=o;let s=document.querySelector(".nmcl");s.innerHTML=r,s.dataset.prt=e.dataset.prt}).catch(o=>console.log(o))}}).catch(n=>console.log(n))}});var H=new MutationObserver(t=>{t.forEach(e=>{e.addedNodes.forEach(n=>{let r=n.matches?.(".inptcl")?n:n.querySelector?.(".inptcl"),o=n.matches?.(".nmcl")?n:n.querySelector?.(".nmcl");r&&i.addEventListener("click",function(s){if(s.target.matches(".chtsbmtBtn")){console.log("dataset for nmcl: "+o.dataset.prt),console.log("message value for inptcl: "+r.value);let c={chtprt:o.dataset.prt,chtmgs:r.value};fetch("/user/mgsprt",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify(c)}).then(l=>l.text()).then(l=>{console.log(l)}).catch(l=>console.log(l))}})})})});H.observe(i,{childList:!0,subtree:!0});i.addEventListener("click",function(t){t.target.matches(".srchpgBtn")&&fetch("/user/qrysrchpg",{method:"GET",headers:{"Content-Type":"application/json"}}).then(e=>e.text()).then(e=>{i.innerHTML=e}).catch(e=>console.log(e))});
//# sourceMappingURL=app.js.map
