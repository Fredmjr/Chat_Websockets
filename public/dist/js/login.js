var h=Object.defineProperty;var a=(i,c)=>h(i,"name",{value:c,configurable:!0});(autolg=a(()=>{console.log("auto loging"),autockie=a(o=>{let t=document.cookie.split("; ");for(let s=0;s<t.length;s++){let n=t[s],[r,l]=n.split("=");if(r===o)return decodeURIComponent(l)}return null},"autockie");let i=autockie("usr"),c={ckie:i};console.log(i),fetch("/user/autlg",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify(c)}).then(o=>o.text()).then(o=>{document.body.innerHTML=o}).catch(o=>console.log(o))},"autolg"))();var g=document.querySelector("body"),y=new MutationObserver(i=>{i.forEach(c=>{c.addedNodes.forEach(o=>{let t=o.matches?.(".loginPage")?o:o.querySelector?.(".loginPage"),s=o.matches?.(".emailInput")?o:o.querySelector?.(".emailInput"),n=o.matches?.(".passwordInput")?o:o.querySelector?.(".passwordInput"),r=o.matches?.(".erPlank")?o:o.querySelector?.(".erPlank");t&&t.addEventListener("click",function(l){if(l.target.matches(".subloginBtn")){console.log("doc.body mutation works!");let u=!0;if(u===!0||u!==!1){let p={email:s.value,password:n.value};console.log(p),fetch("/user/verificaftion",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify(p)}).then(e=>e.json()).then(e=>{if(e.erMgs)r.textContent=e.erMgs,setTimeout(()=>{r.style.display="none"},1e3),r.style.display="block",console.log(e.erMgs);else if(e.paswdMgs)r.textContent=e.paswdMgs,r.style.display="block",setTimeout(()=>{r.style.display="none"},2e3),console.log(e.paswdMgs);else if(e.ifRedir){let d=document.cookie=`usr=${e.usr};path=/`,m=document.cookie=`usrP=${e.usrP};path=/`;d&&m&&(console.log(`cookie set name: ${e.usr} port & ${e.usrP}`),setTimeout(()=>{window.location.reload()},1e3))}}).catch(e=>console.log(e))}}})})})});y.observe(g,{childList:!0,subtree:!0});var b=document.querySelector(".Home");g&&new MutationObserver(c=>{c.forEach(o=>{o.addedNodes.forEach(t=>{let s=t.matches?.(".signup_Btn")?t:t.querySelector?.(".signup_Btn");s&&s.addEventListener("click",()=>{fetch("/user/sgnpg",{method:"GET",headers:{"Content-Type":"application/json"}}).then(n=>n.text()).then(n=>{document.body.innerHTML=n}).catch(n=>console.log(n))})})})}).observe(document.body,{childList:!0,subtree:!0});g&&new MutationObserver(c=>{c.forEach(o=>{o.addedNodes.forEach(t=>{let s=t.matches?.(".subsignupBtn")?t:t.querySelector?.(".subsignupBtn");s&&s.addEventListener("click",()=>{console.log("form");let n=document.querySelector(".signupusernameInput").value,r=document.querySelector(".signupemailInput").value,l=document.querySelector(".signuppasswordInput").value,u=document.querySelector(".ersignupPlank"),p={username:n,email:r,password:l};console.log(p),fetch("/user/registration",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify(p)}).then(e=>e.json()).then(e=>{e.erMgs?(u.innerHTML=e.erMgs,u.style.display="block",setTimeout(()=>{u.style.display="none"},3e3)):e.paswdMgs?(u.innerHTML=e.paswdMgs,u.style.display="block",setTimeout(()=>{u.style.display="none"},6e3)):e.crtAccount===!0&&(console.log("Account created!: "+e.usr,e.usrP),document.cookie=`usr=${e.usr};path=/`,document.cookie=`usrP=${e.usrP};path=/`,e.redir===!0&&setTimeout(()=>{window.location.reload()},2e3))}).catch(e=>console.log(e))})})})}).observe(document.body,{childList:!0,subtree:!0});
//# sourceMappingURL=login.js.map
