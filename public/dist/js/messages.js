var w=Object.defineProperty;var m=(o,y)=>w(o,"name",{value:y,configurable:!0});(Fuc=m(()=>{let o=document.querySelector(".Home");new MutationObserver(g=>{g.forEach(f=>{f.addedNodes.forEach(n=>{(n.matches?.(".usrcl")?n:n.querySelector?.(".usrcl"))&&o.addEventListener("click",function(p){p.target.matches(".usrcl")&&(console.log("user button was clicked!"),new MutationObserver(v=>{v.forEach(b=>{b.addedNodes.forEach(s=>{let i=s.matches?.(".mnchtMgs")?s:s.querySelector?.(".mnchtMgs"),M=s.matches?.(".chtsbmtBtn")?s:s.querySelector?.(".chtsbmtBtn");if(i){console.log("we have message div"),i.innerHTML=`<div>
                  <img src="/assests/animations/loading.gif" width="50" alt="" />
                    </div>`,autockie=m(e=>{let t=document.cookie.split("; ");for(let r=0;r<t.length;r++){let l=t[r],[h,k]=l.split("=");if(h===e)return decodeURIComponent(k)}return null},"autockie");let a=autockie("targtdusrprt"),d=autockie("usrP"),u={lgrsur:d,sltdusr:a};console.log(`loger: ${d} & recepient: ${a}`);let c=document.querySelector(".Home");fetch("/mgs/prtsmgs",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify(u)}).then(e=>e.text()).then(e=>{if(e){console.log(e);let t=JSON.parse(e);Array.isArray(t)&&(i.innerHTML="",t.forEach(r=>{let l=document.createElement("div");l.innerHTML=`
                                  <div class="mgscrd" data-id="${r.id}" data-pstn="${r.from}">

                                  <div class="mgscrdCnt"><p class="singlemgscl">${r.message}</p>
                                  <span class="mgsftnote">From ${r.from} to ${r.to} -- ${new Date(r.createdAt).toLocaleString()}</span>
                                  
                                  </div>
                                  </div> `,i.appendChild(l)}))}}).catch(e=>console.log(e))}})})}).observe(o,{childList:!0,subtree:!0}))})})})}).observe(o,{childList:!0,subtree:!0})},"Fuc"))();(Cuc=m(()=>{let o=document.querySelector(".Home");new MutationObserver(g=>{g.forEach(f=>{f.addedNodes.forEach(n=>{(n.matches?.(".usrcl")?n:n.querySelector?.(".usrcl"))&&o.addEventListener("click",function(p){p.target.matches(".usrcl")&&(console.log("user button was clicked!"),new MutationObserver(v=>{v.forEach(b=>{b.addedNodes.forEach(s=>{let i=s.matches?.(".mnchtMgs")?s:s.querySelector?.(".mnchtMgs"),M=s.matches?.(".chtsbmtBtn")?s:s.querySelector?.(".chtsbmtBtn");M&&(console.log("we have message div nodechtsbmtBtn"),M.addEventListener("click",()=>{autockie=m(c=>{let e=document.cookie.split("; ");for(let t=0;t<e.length;t++){let r=e[t],[l,h]=r.split("=");if(l===c)return decodeURIComponent(h)}return null},"autockie");let a=autockie("targtdusrprt"),d=autockie("usrP"),u={lgrsur:d,sltdusr:a};console.log(`both loger: ${d} & recepient: ${a}`),fetch("/mgs/prtsmgs",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify(u)}).then(c=>c.text()).then(c=>{if(c){let e=JSON.parse(c);Array.isArray(e)&&(i.innerHTML="",e.forEach(t=>{let r=document.createElement("div");r.innerHTML=`
                                  <div class="mgscrd" data-id="${t.id}" data-pstn="${t.from}">

                                  <div class="mgscrdCnt"><p class="singlemgscl">${t.message}</p>
                                  <span class="mgsftnote">From ${t.from} to ${t.to} -- ${new Date(t.createdAt).toLocaleString()}</span>
                                  
                                  </div>
                                  </div> `,i.appendChild(r)})),console.log(c)}}).catch(c=>console.log(c))}))})})}).observe(o,{childList:!0,subtree:!0}))})})})}).observe(o,{childList:!0,subtree:!0})},"Cuc"))();(pstn=m(()=>{let o=document.querySelector(".Home");new MutationObserver(g=>{g.forEach(f=>{f.addedNodes.forEach(n=>{(n.matches?.(".usrcl")?n:n.querySelector?.(".usrcl"))&&o.addEventListener("click",function(p){p.target.matches(".usrcl")&&(console.log("user button was clicked!"),new MutationObserver(v=>{v.forEach(b=>{b.addedNodes.forEach(s=>{(s.matches?.(".mnchtMgs")?s:s.querySelector?.(".mnchtMgs"))&&new MutationObserver(a=>{a.forEach(d=>{d.addedNodes.forEach(u=>{let c=u.matches?.(".mgscrd")?u:u.querySelectorAll?.(".mgscrd");c&&c.forEach(e=>{console.log("cards !!!!!!!!!!!!!!!!!!!!!!!!"),console.log(e.dataset.pstn),prtckie=m(r=>{let l=document.cookie.split("; ");for(let h=0;h<l.length;h++){let k=l[h],[L,$]=k.split("=");if(L===r)return decodeURIComponent($)}return null},"prtckie");let t=prtckie("usrP");console.log(t),e.dataset.pstn===t?(console.log("same"),e.style.display="flex",e.style.justifyContent="end"):e.dataset.pstn!==t&&(console.log("different"),e.style.display="flex",e.style.justifyContent="start"),console.log("ends.....")})})})}).observe(o,{childList:!0,subtree:!0})})})}).observe(o,{childList:!0,subtree:!0}))})})})}).observe(o,{childList:!0,subtree:!0})},"pstn"))();
//# sourceMappingURL=messages.js.map
